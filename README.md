# Yatube API
### Описание
Yatube - платформа для авторов, предоставляющая следующие возможности:
1. Размещение и просмотр публикаций
2. Комментирование публикаций
3. Подписки на авторов

В этом репозитории содержится только API часть проекта.

### Технологии
1. Python 3.7.5
2. Django 2.2.16
3. Django Rest Framework
4. JWT + Djoser
5. Dotenv

### Как запустить проект
Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/ilyakhakhalkin/api_final_yatube.git
```

```
cd api_final_yatube
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

```
source venv/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:

```
python3 manage.py runserver
```

Когда вы запустите проект, по адресу  http://127.0.0.1:8000/redoc/ будет доступна документация для API Yatube. В документации описано, как работатает наш API. Документация представлена в формате Redoc.

### ReadOnly доступ:
Неавторизованным пользователям открыт доступ в режиме ReadOnly:
```
GET: api/v1/posts/ - запрос всех публикаций
GET: api/v1/posts/{id}/ - запрос публикации по идентификатору

GET: api/v1/groups/ - запрос всех групп
GET: api/v1/groups/{id}/ - запрос группы по идентификатору

GET: api/v1/{post_id}/comments/ - запрос всех комментариев публикации
GET: api/v1/{post_id}/comments/{id}/ - запрос комментария по идентификатору
```

### Аутентификация
Аутентификация доступна только зарегистрированным пользователям.
Для регистрации создайте суперпользователя:
```
python3 manage.py createsuperuser
```
Регистрация обычных пользователей доступна суперпользователям через админ-панель Django.

Аутентификация происходит с помощью JWT-токена.
Для создания нового токена нужно передать логин и пароль пользователя:
```
{
    "username": "username",
    "password": "password"
}

POST: api/v1/jwt/create/
```